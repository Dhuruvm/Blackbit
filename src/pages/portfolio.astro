
---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
import Card from '../components/atomic/Card.astro';
import Button from '../components/atomic/Button.astro';

const projects = [
  {
    title: "Pixel Quest Adventures",
    category: "Indie Games",
    description: "A retro-style RPG with pixel art graphics and engaging storylines",
    image: "/projects/pixel-quest.jpg",
    slug: "pixel-quest-adventures",
    platforms: ["PC", "Steam", "Mobile"],
    status: "Released"
  },
  {
    title: "ServerGuard Pro",
    category: "Discord Bots",
    description: "Advanced moderation and server management bot with AI-powered features",
    image: "/projects/serverguard.jpg",
    slug: "serverguard-pro",
    platforms: ["Discord"],
    status: "Active"
  },
  {
    title: "Cosmic Runner",
    category: "Mobile Games",
    description: "Fast-paced endless runner set in a vibrant space environment",
    image: "/projects/cosmic-runner.jpg",
    slug: "cosmic-runner",
    platforms: ["iOS", "Android"],
    status: "Released"
  },
  {
    title: "Community Hub Bot",
    category: "Discord Bots",
    description: "Feature-rich community management with events, polls, and analytics",
    image: "/projects/community-hub.jpg",
    slug: "community-hub-bot",
    platforms: ["Discord"],
    status: "Beta"
  },
  {
    title: "Neon Drift Racing",
    category: "Web Apps",
    description: "Browser-based racing game with real-time multiplayer support",
    image: "/projects/neon-drift.jpg",
    slug: "neon-drift-racing",
    platforms: ["Web", "PWA"],
    status: "In Development"
  },
  {
    title: "Economy Manager",
    category: "Discord Bots",
    description: "Comprehensive economy system for Discord servers with mini-games",
    image: "/projects/economy-manager.jpg",
    slug: "economy-manager",
    platforms: ["Discord"],
    status: "Released"
  },
];

const categories = ["All", "Indie Games", "Discord Bots", "Mobile Games", "Web Apps"];
---

<BaseLayout title="Products - Blackbit Studio" description="Explore our innovative games and Discord bot products">
  <Navigation />
  
  <main class="pt-16 md:pt-20">
    <section class="section-padding">
      <div class="container-custom">
        <div class="text-center mb-16">
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-display font-bold mb-4">
            Our <span class="text-gradient">Products</span>
          </h1>
          <p class="text-lg text-primary-text-secondary max-w-2xl mx-auto">
            Innovative games and digital products that bring communities together
          </p>
        </div>
        
        <div class="flex flex-wrap justify-center gap-4 mb-12" role="tablist" aria-label="Product categories">
          {categories.map((category) => (
            <button
              role="tab"
              aria-selected={category === "All" ? "true" : "false"}
              class="px-6 py-2 rounded-lg border border-primary-border bg-primary-surface hover:border-accent-cyan transition-colors data-[active]:border-accent-cyan data-[active]:text-accent-cyan"
              data-category={category}
            >
              {category}
            </button>
          ))}
        </div>
        
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="projects-grid">
          {projects.map((project) => (
            <Card hover={true} class="group overflow-hidden p-0" data-category={project.category}>
              <a href={`/portfolio/${project.slug}`} class="block">
                <div class="aspect-video bg-primary-surface-elevated relative overflow-hidden">
                  <div class="absolute inset-0 bg-gradient-to-br from-accent-cyan/20 to-accent-magenta/20"></div>
                  <div class="absolute top-2 left-2 px-3 py-1 bg-primary-bg/80 backdrop-blur-sm rounded-full text-xs">
                    {project.status}
                  </div>
                  <div class="absolute bottom-2 right-2 px-3 py-1 bg-primary-bg/80 backdrop-blur-sm rounded-full text-xs">
                    {project.category}
                  </div>
                </div>
                <div class="p-6">
                  <h3 class="text-xl font-display font-semibold mb-2 group-hover:text-accent-cyan transition-colors">
                    {project.title}
                  </h3>
                  <p class="text-primary-text-secondary mb-3">
                    {project.description}
                  </p>
                  <div class="flex flex-wrap gap-2">
                    {project.platforms.map((platform) => (
                      <span class="text-xs px-2 py-1 bg-accent-cyan/10 text-accent-cyan rounded">
                        {platform}
                      </span>
                    ))}
                  </div>
                </div>
              </a>
            </Card>
          ))}
        </div>
        
        <div class="text-center mt-16">
          <Card class="max-w-3xl mx-auto">
            <h2 class="text-2xl md:text-3xl font-display font-bold mb-4">
              Want to collaborate on a project?
            </h2>
            <p class="text-primary-text-secondary mb-6">
              We're always interested in partnering with other creators and studios
            </p>
            <Button href="/contact" variant="primary" size="lg">
              Get in touch
            </Button>
          </Card>
        </div>
      </div>
    </section>
  </main>
  
  <Footer />
</BaseLayout>

<script>
  const buttons = document.querySelectorAll('[data-category]');
  const projectCards = document.querySelectorAll('#projects-grid > div[data-category]');
  
  buttons.forEach(button => {
    button.addEventListener('click', () => {
      const category = button.getAttribute('data-category');
      
      buttons.forEach(b => {
        b.setAttribute('aria-selected', 'false');
        b.removeAttribute('data-active');
      });
      button.setAttribute('aria-selected', 'true');
      button.setAttribute('data-active', '');
      
      projectCards.forEach(card => {
        if (category === 'All' || card.getAttribute('data-category') === category) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    });
  });
</script>
